@import 'material';
@import 'musicmaterial';
@import './wal';
@import 'musicwal';
@import './colors';
@import './lib_mixins';
$music_transparentize_amount: 0.3;
$music_gradient1: mix($color1, $background, 50%);

// @if $darkmode == True {
//     $music_gradient1: mix($color1, $background, 30%);
// }

$music_gradient2: $color3;
$music_gradient3: $color5;
$music_colorstart_transparentize: 0.3;
$music_extra_transparentize: 0.15;

$secondaryContainer: transparentize(mix(mix($background, $color2, 50%), $color6, 80%), 0.5);
$onSecondaryContainer: mix($color7, $color2, 90%);
@if $darkmode == False {
    $onSecondaryContainer: mix($onSecondaryContainer, black, 50%);
}

.osd-music {
    @include menu_decel;
    @include elevation2;
    margin-top: 0.313rem;
    @include normal-rounding;
    // min-height: 7.159rem;
    min-width: 29.659rem;
    background-color: transparentize($layer0, 0.4);
    padding: 0rem 1.023rem;
    background: // Inspired by Amberol
        linear-gradient(127deg, transparentize($music_gradient1, $music_colorstart_transparentize), transparentize($music_gradient1, $music_colorstart_transparentize - $music_transparentize_amount + $music_extra_transparentize) 70.71%),
        linear-gradient(217deg, transparentize($music_gradient2, $music_colorstart_transparentize), transparentize($music_gradient2, $music_colorstart_transparentize - $music_transparentize_amount + $music_extra_transparentize) 70.71%),
        radial-gradient(circle at 0% 100%, transparentize($color4, 0.3) 13%, rgba(0, 0, 0, 0) 100%),
        linear-gradient(336deg, transparentize($music_gradient3, $music_colorstart_transparentize), transparentize($music_gradient3, $music_colorstart_transparentize - $music_transparentize_amount + $music_extra_transparentize) 70.71%),
        transparentize($background, 0.3), // Make background transparent for blur
    ;
}


.osd-music-cover-fallback {
    @include element_decel;
    @include small-rounding;
    // margin: 1.023rem;
    min-width: 7.5rem;
    min-height: 7.5rem;
    background-color: $layer1;
    color: $onSecondaryContainer;
}

.osd-music-cover {
    @include small-rounding;
    @include menu_decel;
    // Must be -top and -bottom or it'll mess up horizontal spacing
    margin-top: 1.023rem;
    margin-bottom: 1.023rem;
    min-width: 7.5rem;
    min-height: 7.5rem;
}

.osd-music-cover-art {
    @include small-rounding;
    min-width: 7.5rem;
    min-height: 7.5rem;
    background-size: cover;
    background-position: center;
}

.osd-music-info {
    margin: 1.023rem 0rem;
}

.osd-music-title {
    @include element_decel;
    @include titlefont;
    font-size: 1.364rem;
    color: $onSecondaryContainer;
}

.osd-music-artists {
    @include element_decel;
    @include mainfont;
    font-size: 0.955rem;
    color: mix($onSecondaryContainer, $secondaryContainer, 80%);
}

.osd-music-pill {
    @include element_decel;
    @include full-rounding;
    @include titlefont;
    min-width: 1.833rem;
    padding: 0.273rem 0.682rem;
    background-color: $secondaryContainer;
    color: $onSecondaryContainer;
}

.osd-music-controls-container {
    @include element_decel;
    @include full-rounding;
    @include titlefont;
    padding: 0.7rem;
    background-color: transparentize($secondaryContainer, 0.3);
    color: $onSecondaryContainer;
    box-shadow: 0 3px 5px rgba(0, 0, 0, 0.3);
}

.osd-music-controlbtn {
    @include menu_decel;
    min-width: 3.8rem;
    min-height: 3.8rem;
    padding: 0;
    @include full-rounding;
    background-color: transparent;
    font-weight: bold;
}

.osd-music-controlbtn:hover,
.osd-music-controlbtn:focus {
    background-color: rgba(255, 255, 255, 0.15);
}

.osd-music-controlbtn:active {
    background-color: rgba(255, 255, 255, 0.25);
}

.osd-music-controlbtn-txt {
    @include element_decel;
    transition: 100ms cubic-bezier(0.05, 0.7, 0.1, 1);
    @include icon-material;
    font-size: 3.5rem;
    margin: 0;
    font-weight: bold;
}